import Container from "@/components/Container";
import TableViewBtn from "@/components/TableViewBtn";
import VirtualTable from "@/components/VirtualTable";
import { handleIdx } from "@/utils/helper";
import { HRDeps, HRRequestTypes, OrderStatus } from "@/utils/types";
import { ColumnDef } from "@tanstack/react-table";
import { useMemo } from "react";
import { useTranslation } from "react-i18next";
import { Link, useParams } from "react-router-dom";

const mockData = {
  items: [
    {
      id: 10,
      question: "Safia коинлари ва улар нима учун керак? ",
      answer:
        "Safia коинлари бу – Safia қандолат уйининг ички валютаси бўлиб, Safia Game дўконида улар эвазига қимматли совғалар олиш имконини беради. \nSafia коинларини нима учун берилади:\n✅ Компанияда ишлаган ҳар бир йил учун (3 SC);  ✅ Ходимнинг туғилган куни учун (2 SC);  ✅ Ишлаб чиқариш жараёнин такомиллаштириш ва самарадорликни ошириш йўлидаги ғоялар учун (15 SC);\n✅ Мослашув давридан мувафаккиятли ўтган стажёр учун (5 SC);\n✅ Энг яхши устозлик учун (10 SC);\n✅ Грейд ошиш муносабати билан аттестациядан \n ижобий натижа билан ўтганда (5 SC);\n✅Бригадирнинг тавсияси билан ойнинг энг яхши ходимига (5 SC);\n✅Лимит вақтида энг фаол қатнашган ходимларга (5 SC);\n✅Ишга кеч қолишлари 0 миқдорда (2 SC).\nSafia коинлари ва улар эвазига совғалар қачон ва қаерда берилади?\n 1. Ҳар ойда юқоридаги мезонлар асосида маълумотлар йиғилади ва ички ишчи телеграмм гуруҳларига юборилади. \n 2. Safia коинлари HR бўлимида 5 кун ичида тарқатилади. \n 3. Safia Game дўкони ҳар ойда 5 кун ишлайди. ",
      status: 1,
    },
    {
      id: 2,
      question: "Тиббий кўрик",
      answer:
        "Тиббий кўрик DARMON SERVIS клиникасида ўтказилади.\n\nТиббий кўрикдан ўтиш учун сиз ҳамширанинг йўлланмаси билан боришингиз керак, йўлланмани тиббий муассасада олишингиз мумкин.\n\nАёллар учун тиббий кўрик нархи - 227.000 сум, эркаклар учун - 193.000 сум",
      status: 1,
    },
    {
      id: 1,
      question: "Ишда расмийлаштириш учун қандай ҳужжатлар керак?",
      answer:
        "1.Паспорт асл нусхаси (ID бўлса қайд вароги бўлиши шарт);\n2.ИНПС (пенсионный, ягона дарчадан ёки my.gov.uzсайтидан топиб чиқартирсангиз бўлади);\n3.Диплом ёки аттестат (йўқ бўлса, ўқишдан маълумотнома)\n4.Харбий билет ёки приписной\n5.Расм 3*4 - 6 дона",
      status: 1,
    },
    {
      id: 3,
      question: "Иш ҳаққи қайси кунларда берилади?",
      answer:
        "Иш ҳаққи ҳар ойнинг 15 санасидан 20 саначигача берилади, иш ҳаққи берилиш жадвали икки кун олдин эълон қилинади.",
      status: 1,
    },
    {
      id: 4,
      question: "Аванс",
      answer:
        "Аванс - ойлик иш ҳақингиздан олдиндан олишингиз мумкин бўлган иш ҳақингизнинг 30% ни ташкил қилади, аванс хар ойнинг 25 санасидан 30 санасигача.",
      status: 1,
    },
    {
      id: 5,
      question: "Иш ҳаққини ошириш шартлари",
      answer:
        "Расмий рўйхатдан ўтиш ва тиббий кўрикдан ўтиш шарти билан грейд бўйича ойлик иш ҳақи оширилади, олдинроқ этиб ўтилган шартлар бўлмаса - иш ҳақи оширилмайди ва аванс берилмайди.",
      status: 1,
    },
    {
      id: 6,
      question: "Автобус йўналишлари",
      answer:
        "06:45\n- Чилонзор - Фабрика\n\n07:10\n- Атп – Медгородок - Фабрика\n- Медгородок - Фабрика\n\n16:10\n- Медгородок - Фабрика\n\n17:30\n- Фабрика – Медгородок\n- Фабрика – Чилонзор\n\n02:30\n- Фабрика – Максим Горький\n- Фабрика - Медгородок\n\n",
      status: 1,
    },
    {
      id: 8,
      question: "Махсус иш формаси",
      answer:
        "Янги ходимга 1 ой муддатга стажерлар формаси берилади;\nАгар янги ходим бир ой ичида ишдан бўшаб кетса, ойлик маошидан 50 000 сўм ушлаб қолинади;\nЯнги ходим ишлаб қолса, иккинчи ойдан махсус форма берилади;\nМахсус форма учун тўлов ходим ойлигидан учга бўлиб олиб қолинади",
      status: 1,
    },
    {
      id: 7,
      question: "Жарималар борми комапаниямизда?",
      answer:
        "Safia компаниясида жарима йўқ, лекин бирор махсулот (хом-ашё, начинка , таййор махсулот) ерга тушиб кетса, шу нарсани тан нархини ходим ўз ойлигидан қоплаши шарт.\n\nШуни таъкидлаш керакки, кечикиб келиш таъқиқланади, хатто 1 дақиқага хам мумкин эмас!",
      status: 1,
    },
    {
      id: 9,
      question: "Safia Game (Геймификация) бу нима?",
      answer:
        " Safia Game (Гемификация) бу - ўйин элементларидан фойдаланган ҳолда ходимларни иш фаолиятларида мақсадларга эришиш учун жалб қилиш ва рағбатлантириш мақсадида йўлга қўйилган лойиҳа.  \nЛойиҳани асосий мақсадлари – ходимларни компания ичидаги жараёнларга жалб қилиш, мотивация тизимини такомиллаштириш, корпоратив маданиятни ривожлантириш, энг яхши ходимлар рейтингини аниқлаб боришдир. \nБу ўзи нима ва у қандай ишлайди?\nSafia Game (Гемификация) лойиҳаси доирасида ишлаб чиқариш ходимлари ўз самарадорликларини кўрсатиш йўли орқали, эвазига қимматбаҳо совғаларни ютиб олиш учун яратилган имконият!\nҲар бир муносиб қилинган ишингиз учун, туғилган кунингиз ва байрамлар учун сизга Safia коинлари тақдим этиб борилади. \n",
      status: 1,
    },
  ],
  total: 10,
  page: 1,
  size: 50,
  pages: 1,
};

const StatusOBJ: { [key: number]: string } = {
  [OrderStatus.new]: "new",
  [OrderStatus.received]: "answered",
  [OrderStatus.denied]: "denied",
};

const HRRequests = () => {
  const { hrdep } = useParams();
  const { t } = useTranslation();

  const columns = useMemo<ColumnDef<HRRequestTypes>[]>(
    () => [
      {
        cell: ({ row }) => <div className="w-4">{handleIdx(row.index)}</div>,
        header: "№",
        size: 5,
      },

      {
        accessorKey: "question",
        header: t("question"),
      },
      {
        accessorKey: "status",
        header: t("status"),

        cell: ({ row }) => (
          <p className="text-center w-full">
            {row.original.status && t(StatusOBJ[row.original.status])}
          </p>
        ),
      },
      {
        accessorKey: "action",
        header: t(""),
        size: 1,
        cell: ({ row }) => (
          <Link
            className="w-18"
            to={
              hrdep == HRDeps[HRDeps.qa]
                ? `edit/${row.original.id}`
                : `${row.original.id}`
            }
          >
            <TableViewBtn onClick={() => null} />
          </Link>
        ),
      },
    ],
    []
  );
  return (
    <Container>
      <VirtualTable columns={columns} data={mockData.items} />
    </Container>
  );
};

export default HRRequests;
